plugins {
    id 'java'
}

group = 'me.mrbubbles.fabricremapper'
version = '1.5'

repositories {
    mavenCentral()

    maven { url 'https://maven.fabricmc.net/' }
    maven { url = 'https://repo.spongepowered.org/repository/maven-public/' }
}

configurations {
    compile
}

dependencies {
    compile 'net.fabricmc:tiny-remapper:0.10.0'
    compile 'net.fabricmc:access-widener:2.1.0'
    compile 'net.sf.jopt-simple:jopt-simple:5.0.4'
    compile 'net.fabricmc:stitch:0.6.2'
    compile 'com.formdev:flatlaf:3.3'

    configurations.compile.dependencies.each {
        implementation(it)
    }
}

jar {
    manifest {
        attributes 'Main-Class': 'me.mrbubbles.fabricremapper.Main'
    }
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
    exclude 'META-INF/'
    duplicatesStrategy(DuplicatesStrategy.EXCLUDE)
}